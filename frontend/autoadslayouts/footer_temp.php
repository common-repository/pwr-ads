<?php$template_name = 'footer-temp';$url = ' https://portal-pwr-ads.com/getautoad/footer';$request = wp_remote_retrieve_body(wp_remote_get($url));//print_r(json_decode( $request));if (is_wp_error($request)) {    return false; // Bail early}$data = json_decode($request);if ($data !== null) {    if (isset($data->source)) {        $encryption = $data->script;        // Store the cipher method        $ciphering = "AES-128-CTR";        // Use OpenSSl Encryption method        $iv_length = openssl_cipher_iv_length($ciphering);        $options = 0;        // Non-NULL Initialization Vector for decryption        $decryption_iv = '1234567891011121';        // Store the decryption key        $decryption_key = "PwrAdsScript";        // Use openssl_decrypt() function to decrypt the data        $decryption = openssl_decrypt($encryption, $ciphering, $decryption_key, $options, $decryption_iv);        if ($data !== null && $data->source == "google_adsense") {?>            <div class="footer_css">                <script type="text/javascript">                    var ads_footer = '<?php echo esc_js($decryption);  ?>';                    ads_footer = ads_footer.replaceAll('&gt;', '>').replaceAll('&quot;', '"').replaceAll('&lt;', '<').replaceAll(/\s\s+/g, ' ').replaceAll("</' + '", "</");                    document.write(ads_footer);                </script>            </div>        <?php } elseif ($data !== null && $data->source == "adkernel") {        ?>            <div class="footer_css">                <script type="text/javascript">                    var ads_footer = '<?php echo esc_js($decryption);  ?>';                    ads_footer = ads_footer.replaceAll('&gt;', '>').replaceAll('&quot;', '"').replaceAll('&lt;', '<').replaceAll(/\s\s+/g, ' ').replaceAll("</' + '", "</");                    document.write(ads_footer);                </script>            </div>        <?php }    } else {        ?>        <!--   *****SCRIPT TO SHOW ADS BEFORE FOOTER START*****   -->        <script type="text/javascript">            var footer = document.getElementsByTagName("footer")[0];            //var footerdiv = document.createElement('div');            var string = '<div id="footer_image" class="pwr_ads_responsive"><span onclick="removeFooterImage()" class="ad_banner_logo"><div class="ads-text"></div><a href="https://portal-pwr-ads.com/getautoadurl/<?php echo esc_attr($data->unique_token . '/pwrsrc=' . esc_attr($_SERVER['SERVER_NAME']) . '/id=' . $data->id . '/adtype=autoad'); ?>" target="_blank" class="img_ad2"><img id = "theImg" src="<?php echo esc_url($data->imgurl); ?>" ></a><a href="https://pwr-ads.com/ads-by-pwr-ads/" target="_blank" class="img_ad"><img src="<?php echo plugin_dir_url(dirname(__FILE__)) . 'asst/img/banner-logo.png'; ?>"></a><div class="ads-text close-icon"><span>X</span></div></span></div>'            footer.insertAdjacentHTML('beforebegin', string);            function removeFooterImage(e) {                document.getElementById("footer_image").remove();            }        </script><?php }}?>